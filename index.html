
<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ابزارهای آنلاین رایگان فارسی ۲۰۲۵ | +۱۰۰ ابزار حرفه‌ای | لنگر</title>
    <meta name="description" content="بیش از ۱۰۰ ابزار آنلاین رایگان برای محاسبات، تبدیل متن، ویرایش تصویر و سئو. استفاده فوری بدون ثبت‌نام ✅ سریع، دقیق و امن | لنگر ۲۰۲۵">
    <meta name="keywords" content="ابزار آنلاین رایگان ۲۰۲۵, محاسبه گر حرفه‌ای, تبدیل متن فارسی, ویرایش تصویر آنلاین, ابزار سئو رایگان, فال آنلاین, لنگر, بدون ثبت‌نام, استفاده فوری">
    <link rel="icon" type="image/png" href="/favicon.png" />
    
    <!-- PWA Manifest and Theme -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#3b82f6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="لنگر" />
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-192x192.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/icon-192x192.png" />
    
    <!-- SEO and Performance -->
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <link rel="canonical" href="https://laangar.com/" />
    
    <!-- Open Graph Meta Tags - Phase 2 Optimized -->
    <meta property="og:title" content="ابزارهای آنلاین رایگان فارسی ۲۰۲۵ | +۱۰۰ ابزار حرفه‌ای | لنگر" />
    <meta property="og:description" content="بیش از ۱۰۰ ابزار آنلاین رایگان برای محاسبات، تبدیل متن، ویرایش تصویر و سئو. استفاده فوری بدون ثبت‌نام ✅ سریع، دقیق و امن" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://laangar.com/" />
    <meta property="og:site_name" content="لنگر - ابزارهای آنلاین" />
    <meta property="og:locale" content="fa_IR" />
    <meta property="og:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/EcL48iwIIXRo2Db7e5QiOoiuttN2/social-images/social-1757968623837-76e15b28-6fa7-4dd3-bb57-922abbe9dca7.png">
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//googletagmanager.com">
    
    <!-- CSS Preloading Script for non-render-blocking CSS -->
    <script>
      // Function to preload CSS files asynchronously
      function loadCSS(href, before, media) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = href;
        link.media = media || 'all';
        if (before) {
          before.parentNode.insertBefore(link, before);
        } else {
          document.head.appendChild(link);
        }
        return link;
      }
      
      // Preload CSS with high priority but non-blocking
      function preloadCSS(href, media) {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.as = 'style';
        link.href = href;
        link.onload = function() {
          this.onload = null;
          this.rel = 'stylesheet';
          this.media = media || 'all';
        };
        document.head.appendChild(link);
        
        // Fallback for browsers that don't support preload
        const fallback = document.createElement('noscript');
        const fallbackLink = document.createElement('link');
        fallbackLink.rel = 'stylesheet';
        fallbackLink.href = href;
        fallback.appendChild(fallbackLink);
        document.head.appendChild(fallback);
        
        return link;
      }
      
      // Store function globally for use by Vite
      window.preloadCSS = preloadCSS;
      window.loadCSS = loadCSS;
    </script>
    
    <!-- Preload critical JavaScript modules for faster TTI -->
    <link rel="modulepreload" href="/src/main.tsx">
    <link rel="preload" href="/src/App.tsx" as="script">
    <link rel="preload" href="/src/components/Layout.tsx" as="script">
    
    <!-- Additional resource hints for better TTI -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="prefetch" href="/src/components/ui/button.tsx" as="script">
    <link rel="prefetch" href="/src/components/ui/card.tsx" as="script">
    
    <!-- Modern Font Loading - Performance Optimized -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    
    <!-- Critical modern fonts preload for immediate rendering -->
    <link rel="preload" href="https://fonts.gstatic.com/s/manrope/v15/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk59FO_F87jxeN7B.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn/woff2/Vazirmatn-Regular.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    
    <!-- Modern Google Fonts with variable weights -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Inter:wght@100..900&family=JetBrains+Mono:wght@100..800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Persian fonts from CDN -->
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn/font-face.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/rastikerdar/shabnam-font@v5.0.1/dist/font-face.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Critical inline font styles with metric overrides to prevent CLS -->
    <style>
      /* Fallback font adjustments to match web fonts and prevent layout shift */
      @font-face {
        font-family: 'Manrope-fallback';
        src: local('Arial');
        size-adjust: 107%;
        ascent-override: 92%;
        descent-override: 24%;
        line-gap-override: 0%;
      }

      @font-face {
        font-family: 'Inter-fallback';
        src: local('Arial');
        size-adjust: 107%;
        ascent-override: 90%;
        descent-override: 22%;
        line-gap-override: 0%;
      }

      @font-face {
        font-family: 'Vazirmatn-fallback';
        src: local('Tahoma');
        size-adjust: 100%;
        ascent-override: 92%;
        descent-override: 24%;
        line-gap-override: 0%;
      }

      /* Manrope - Modern Display/Heading Font */
      @font-face {
        font-family: 'Manrope';
        font-style: normal;
        font-weight: 200 800;
        font-display: swap;
        src: url('https://fonts.gstatic.com/s/manrope/v15/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk59FO_F87jxeN7B.woff2') format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }

      /* Inter Variable - Modern Body Font */
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url('https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2') format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }

      /* JetBrains Mono - Modern Monospace */
      @font-face {
        font-family: 'JetBrains Mono';
        font-style: normal;
        font-weight: 100 800;
        font-display: swap;
        src: url('https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY_J-oE_sw4OQEeuHKreHPnO6t59dZgWiH_1jQ4dw.woff2') format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }

      /* Vazirmatn - Persian Body Font */
      @font-face {
        font-family: 'Vazirmatn';
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn/woff2/Vazirmatn-Regular.woff2') format('woff2');
        unicode-range: U+0600-06FF, U+200C-200E, U+2010-2011, U+204F, U+2E41, U+FB50-FDFF, U+FE80-FEFC, U+0000-00FF, U+0131, U+0152-0153;
      }

      /* Shabnam - Persian Accent Font */
      @font-face {
        font-family: 'Shabnam';
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url('https://cdn.jsdelivr.net/gh/rastikerdar/shabnam-font@v5.0.1/dist/woff2/Shabnam-FD.woff2') format('woff2');
        unicode-range: U+0600-06FF, U+200C-200E, U+2010-2011, U+204F, U+2E41, U+FB50-FDFF, U+FE80-FEFC, U+0000-00FF, U+0131, U+0152-0153;
      }
    </style>
    
    <!-- Fallback for browsers that don't support preload -->
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Inter:wght@100..900&family=JetBrains+Mono:wght@100..800&display=swap">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn/font-face.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/shabnam-font@v5.0.1/dist/font-face.css">
    </noscript>
    
    <!-- Critical inline styles for immediate rendering -->
    <style>
      html {
        direction: rtl;
        font-family: 'Inter', 'Inter-fallback', 'Vazirmatn', 'Vazirmatn-fallback', 'Manrope', 'Manrope-fallback', system-ui, -apple-system, 'Segoe UI', Tahoma, Arial, sans-serif;
      }
      body {
        font-family: 'Inter', 'Inter-fallback', 'Vazirmatn', 'Vazirmatn-fallback', 'Manrope', 'Manrope-fallback', system-ui, -apple-system, 'Segoe UI', Tahoma, Arial, sans-serif;
        background-color: #fafaff;
        margin: 0;
        padding: 0;
        line-height: 1.6;
      }
      #root {
        min-height: 100vh;
      }
      
      /* Minimal loading state */
      #root {
        opacity: 1;
        transition: opacity 0.3s ease-in;
        min-height: 100vh;
      }
      
      /* Ensure immediate text visibility */
      body { 
        font-display: swap; 
        visibility: visible;
        opacity: 1;
      }
      
      /* Offscreen rendering optimization */
      .cv-auto {
        content-visibility: auto;
        contain-intrinsic-size: 1px 1000px; /* Reserve space to avoid layout shift */
      }
    </style>
    
    <!-- Defer Google Analytics to improve TTI -->
    <script>
      // Defer Google Analytics loading to improve TTI
      window.addEventListener('load', function() {
        setTimeout(function() {
          const script = document.createElement('script');
          script.async = true;
          script.src = 'https://www.googletagmanager.com/gtag/js?id=G-P5JG2WQN86';
          document.head.appendChild(script);
          
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);} 
          gtag('js', new Date());
          gtag('config', 'G-P5JG2WQN86');
        }, 1000); // Delay GA loading by 1 second
      });
    </script>
    <meta name="twitter:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/EcL48iwIIXRo2Db7e5QiOoiuttN2/social-images/social-1757968623837-76e15b28-6fa7-4dd3-bb57-922abbe9dca7.png">
</head>
  <body>
    <div id="root">
      <!-- Critical inline skeleton for immediate FCP -->
      <div id="critical-hero" style="min-height: 100vh; display: flex; flex-direction: column;">
        <!-- Header skeleton -->
        <div style="padding: 1rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e5e7eb;">
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 0.5rem;"></div>
            <h1 class="hero-title" style="margin: 0; font-size: 1.25rem; font-weight: 700; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">لنگر - مجموعه ابزارهای آنلاین فارسی</h1>
          </div>
        </div>
        
        <!-- Hero content skeleton -->
        <div style="flex: 1; display: flex; align-items: center; justify-content: center; padding: 2rem;">
          <div style="text-align: center; max-width: 800px;">
            <div style="height: 2.5rem; background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 0.5rem; margin-bottom: 1rem;"></div>
            <div style="height: 1.5rem; background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 0.5rem; margin-bottom: 0.5rem;"></div>
            <div style="height: 1.5rem; background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 0.5rem; width: 80%; margin: 0 auto;"></div>
          </div>
        </div>
      </div>
      
      <style>
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
        #critical-hero {
          animation: fadeOut 0.3s ease-out 0.5s forwards;
        }
        @keyframes fadeOut {
          to {
            opacity: 0;
            pointer-events: none;
          }
        }
      </style>
    </div>
    
    <!-- Load React app directly -->
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Defer service worker registration to improve TTI
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          setTimeout(() => {
            navigator.serviceWorker.register('/sw.js').catch(() => {});
          }, 2000); // Delay SW registration
        });
      }
      
      // Ensure immediate content visibility and improve TTI
      document.addEventListener('DOMContentLoaded', function() {
        document.body.style.visibility = 'visible';
        
        // Remove critical hero when React app mounts
        const checkReactMount = setInterval(function() {
          const root = document.getElementById('root');
          const criticalHero = document.getElementById('critical-hero');
          
          // Check if React has rendered content (more than just skeleton)
          if (root && root.children.length > 1 && criticalHero) {
            criticalHero.style.display = 'none';
            clearInterval(checkReactMount);
          }
        }, 100);
        
        // Fallback: remove skeleton after 3 seconds regardless
        setTimeout(function() {
          const criticalHero = document.getElementById('critical-hero');
          if (criticalHero) {
            criticalHero.style.display = 'none';
          }
          clearInterval(checkReactMount);
        }, 3000);
      });
      
      // Optimize main thread by yielding control
      function yieldToMain() {
        return new Promise(resolve => {
          setTimeout(resolve, 0);
        });
      }
      
      // Break up long tasks for better TTI
      window.breakUpLongTasks = yieldToMain;
      
      // Improve Speed Index: lazy-load offscreen images and apply content-visibility to offscreen sections
      // Optimized to prevent forced reflows by batching reads before writes
      function optimizeOffscreen() {
        try {
          const vh = window.innerHeight || 800;
          const threshold = vh * 1.2;
          
          // Batch all reads first to prevent forced reflows
          const sections = document.querySelectorAll('main > section, section, article, [data-defer]');
          const sectionData = Array.from(sections).map(el => ({
            el,
            top: el.getBoundingClientRect().top
          }));
          
          const images = Array.from(document.images || []);
          const imageData = images.map(img => ({
            img,
            top: img.getBoundingClientRect().top,
            hasLoading: img.hasAttribute('loading'),
            hasFetchPriority: img.hasAttribute('fetchpriority')
          }));
          
          // Now do all writes without interleaving reads
          // Apply content-visibility to offscreen sections
          sectionData.forEach(({ el, top }) => {
            if (top > threshold) {
              el.classList.add('cv-auto');
            }
          });
          
          // Lazy-load offscreen images and set fetch priorities
          imageData.forEach(({ img, top, hasLoading, hasFetchPriority }) => {
            if (top > threshold) {
              if (!hasLoading) img.setAttribute('loading', 'lazy');
              img.setAttribute('decoding', 'async');
              img.setAttribute('fetchpriority', 'low');
            } else {
              // Prioritize above-the-fold images
              if (!hasFetchPriority) img.setAttribute('fetchpriority', 'high');
            }
          });
        } catch (_) { /* noop */ }
      }
      
      window.addEventListener('load', () => {
        // Use requestAnimationFrame to avoid layout thrashing
        if ('requestAnimationFrame' in window) {
          requestAnimationFrame(optimizeOffscreen);
        } else {
          optimizeOffscreen();
        }
      }, { once: true });
      
      document.addEventListener('DOMContentLoaded', () => {
        if ('requestAnimationFrame' in window) {
          requestAnimationFrame(optimizeOffscreen);
        } else {
          optimizeOffscreen();
        }
      }, { once: true });
      
      window.addEventListener('resize', () => {
        if ('requestIdleCallback' in window) {
          // @ts-ignore
          requestIdleCallback(optimizeOffscreen);
        } else {
          setTimeout(optimizeOffscreen, 200);
        }
      });
    </script>
  </body>
</html>
